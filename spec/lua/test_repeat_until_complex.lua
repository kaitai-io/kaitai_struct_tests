-- Autogenerated from KST: please remove this line if doing any edits by hand!

local luaunit = require("luaunit")

require("repeat_until_complex")

TestRepeatUntilComplex = {}

function TestRepeatUntilComplex:test_repeat_until_complex()
    local r = RepeatUntilComplex:from_file("src/repeat_until_complex.bin")

    luaunit.assertEquals(#r.first, 3)
    luaunit.assertEquals(r.first[0 + 1].count, 4)
    luaunit.assertEquals(r.first[0 + 1].values, {0 + 1, 2, 3, 4})
    luaunit.assertEquals(r.first[1 + 1].count, 2)
    luaunit.assertEquals(r.first[1 + 1].values, {0 + 1, 2})
    luaunit.assertEquals(r.first[2 + 1].count, 0)
    luaunit.assertEquals(#r.second, 4)
    luaunit.assertEquals(r.second[0 + 1].count, 6)
    luaunit.assertEquals(r.second[0 + 1].values, {0 + 1, 2, 3, 4, 5, 6})
    luaunit.assertEquals(r.second[1 + 1].count, 3)
    luaunit.assertEquals(r.second[1 + 1].values, {0 + 1, 2, 3})
    luaunit.assertEquals(r.second[2 + 1].count, 4)
    luaunit.assertEquals(r.second[2 + 1].values, {0 + 1, 2, 3, 4})
    luaunit.assertEquals(r.second[3 + 1].count, 0)
    luaunit.assertEquals(r.third, {0 + 102, 111, 111, 98, 97, 114, 0})
end
